<% content_for :title, "Lexxy Sandbox" %>

<main data-controller="lexxy-output" data-action="lexxy:change->lexxy-output#refresh" data-lexxy-output-template-value="<%= @template %>">
  <section class="input">
    <h2>Editor</h2>
    <div class="editor-value-buttons">
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="default">Default</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="tables">Tables</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="code_blocks">Code blocks</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="lists">Lists</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="highlights">Color highlights</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="images">Images</button>
      <button type="button" data-action="click->lexxy-output#loadContent" data-lexxy-output-partial-param="empty">Empty</button>
    </div>
    <div>
      <%= rich_text_area_tag :sandbox, render(@template), placeholder: "Write something...", data: { lexxy_output_target: "editor" } do %>
        <lexxy-prompt trigger="@" src="<%= people_path %>" name="mention"></lexxy-prompt>
        <lexxy-prompt trigger=":" insert-editable-text>
          <lexxy-prompt-item search="joy laughing face">
            <template type="menu">ğŸ˜‚ Joy</template>
            <template type="editor">ğŸ˜‚</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="heart red heart">
            <template type="menu">â¤ï¸ Heart</template>
            <template type="editor">â¤ï¸</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="thumbs up like">
            <template type="menu">ğŸ‘ Thumbs Up</template>
            <template type="editor">ğŸ‘</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="fire hot lit">
            <template type="menu">ğŸ”¥ Fire</template>
            <template type="editor">ğŸ”¥</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="party popper celebration">
            <template type="menu">ğŸ‰ Party</template>
            <template type="editor">ğŸ‰</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="star favorite">
            <template type="menu">â­ Star</template>
            <template type="editor">â­</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="clap applause">
            <template type="menu">ğŸ‘ Clap</template>
            <template type="editor">ğŸ‘</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="rocket launch">
            <template type="menu">ğŸš€ Rocket</template>
            <template type="editor">ğŸš€</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="100 hundred perfect">
            <template type="menu">ğŸ’¯ 100</template>
            <template type="editor">ğŸ’¯</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="checkmark check mark">
            <template type="menu">âœ… Check</template>
            <template type="editor">âœ…</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="heart eyes love">
            <template type="menu">ğŸ˜ Heart Eyes</template>
            <template type="editor">ğŸ˜</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="thinking thought">
            <template type="menu">ğŸ¤” Thinking</template>
            <template type="editor">ğŸ¤”</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="wink wink">
            <template type="menu">ğŸ˜‰ Wink</template>
            <template type="editor">ğŸ˜‰</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="celebrate party">
            <template type="menu">ğŸŠ Celebrate</template>
            <template type="editor">ğŸŠ</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="muscle flex strong">
            <template type="menu">ğŸ’ª Muscle</template>
            <template type="editor">ğŸ’ª</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="lightbulb idea">
            <template type="menu">ğŸ’¡ Lightbulb</template>
            <template type="editor">ğŸ’¡</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="thumbs down dislike">
            <template type="menu">ğŸ‘ Thumbs Down</template>
            <template type="editor">ğŸ‘</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="pray hands thank">
            <template type="menu">ğŸ™ Pray</template>
            <template type="editor">ğŸ™</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="clown face funny">
            <template type="menu">ğŸ¤¡ Clown</template>
            <template type="editor">ğŸ¤¡</template>
          </lexxy-prompt-item>
          <lexxy-prompt-item search="crown king queen">
            <template type="menu">ğŸ‘‘ Crown</template>
            <template type="editor">ğŸ‘‘</template>
          </lexxy-prompt-item>
        </lexxy-prompt>
      <% end %>
    </div>

    <p><small>Use @ and : to see a remote and local prompt implementation.</small></p>
  </section>

  <section class="output">
    <h2>Output</h2>
    <div>
      <details name="lexxy-output">
        <summary>Plain Text</summary>
        <pre data-lexxy-output-target="outputText" class="lexxy-content"></pre>
      </details>
      <details name="lexxy-output" open>
        <summary>HTML</summary>
        <pre data-lexxy-output-target="outputHtml" class="lexxy-content"></pre>
      </details>
    </div>
  </section>
</main>
